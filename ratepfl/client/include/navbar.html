<template name="navbar">

    <!--user dropdown-->
    <ul id="user-dropdown" class="dropdown-content">
        {{#with user}}
            <li><a href="">Welcome {{userName}}</a></li>
        {{/with}}
        {{#if user}}

        <li><a href="#!" id="logout">Logout</a></li>

        {{else}}

            <li><a href="/login">Login</a></li>

        {{/if}}
    </ul>

    <nav class="red darken-3">
        <div class="nav-wrapper container">
            <a href="/" class="brand-logo">RateEPFL</a>
            <a href="" data-activates="mobile-demo" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
            <ul class="right hide-on-med-and-down">

                {{#unless searching}}
                <li><a href="" id="search"><i class="mdi-action-search"></i></a></li>
                {{/unless}}
                <li><a class="dropdown-button" href="#!" data-activates="user-dropdown"><i class="mdi-social-person"></i></a></li>
            </ul>

            {{#if searching}}
            <div class="right">
                <form>
                    <div class="input-field">
                        <input autofocus="autofocus"  type="search" id="search-field" class="field" required>
                        <label for="search-field"><i class="mdi-action-search"></i></label>
                        <i id="search" class="mdi-navigation-close close"></i>
                    </div>
                </form>
            </div>
            {{/if}}


            <ul class="side-nav" id="mobile-demo">


                {{#if user}}

                <li><a href="#!" id="logout">Logout</a></li>

                {{else}}

                    <li><a href="/login">Login</a></li>

                {{/if}}
                
            </ul>

        </div>



    </nav>


    <script>
        $(document).ready(function(){
            $('.dropdown-button').dropdown({
                        inDuration: 300,
                        outDuration: 225,
                        constrain_width: false, // Does not change width of dropdown to that of the activator
                        hover: true, // Activate on hover
                        gutter: 0, // Spacing from edge
                        belowOrigin: true // Displays dropdown below the button
                    }
            );
        });
    </script>
</template>